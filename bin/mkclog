#!/usr/bin/env node

var program = require('commander');
var fs = require('fs');
var mkclog = require('..');

program
  .version('1.1.1')
  .option('-t, --tag [tag]', 'add a tag entry for commits since the previous tag; if unspecified, will only use previous tags')
  .option('-o, --output [file]', 'write the output to this file; if unspecified, will print to stdout')
  .parse(process.argv);

if (program.tag) mkclog.setTag(program.tag);
if (program.output) mkclog.pipe(fs.createWriteStream(program.output));
else mkclog.pipe(process.stdout);